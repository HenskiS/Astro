# Production Trading System Configuration
# =========================================

# OANDA API Settings
oanda:
  account_type: "practice"  # "practice" or "live" - change this to switch accounts

  # Practice account credentials
  practice:
    account_id: "${OANDA_PRACTICE_ACCOUNT_ID}"
    api_key: "${OANDA_PRACTICE_API_KEY}"

  # Live account credentials
  live:
    account_id: "${OANDA_ACCOUNT_ID}"
    api_key: "${OANDA_API_KEY}"

# Capital and Risk Management
capital:
  initial: 500
  risk_per_trade: 0.004  # 0.4% of capital
  max_drawdown: 0.15  # 15% from peak
  daily_loss_limit: 0.05  # 5% daily loss limit

# 15-Minute Strategy Settings
strategy_15m:
  enabled: true
  pairs:
    - EURUSD
    - USDJPY
    - GBPUSD
    - AUDUSD
    - USDCAD
    - USDCHF
    - NZDUSD
    - EURJPY

  # Signal generation
  min_confidence: 0.70
  lookback_periods: 80  # 20 hours
  avoid_hours: [20, 21, 22]  # High-spread hours (UTC)

  # Position limits
  max_positions_total: 120
  max_positions_per_pair: 15

  # Exit parameters (from optimized backtest)
  immediate_stop_loss_pct: -0.05  # -5% immediate stop (peace of mind)
  emergency_stop_periods: 24  # 6 hours
  emergency_stop_loss_pct: -0.04  # -4%
  trailing_stop_trigger: 0.001  # 0.1%
  trailing_stop_pct: 0.75  # 75%
  ladder_levels: [0.002, 0.004]  # 0.2%, 0.4%
  ladder_scale_pct: 0.40  # Scale out 40% at each level

  # Execution
  slippage_pct: 0.0001  # 0.01% = 1 pip

# Monitoring and Alerts
monitoring:
  telegram:
    enabled: true
    bot_token: "${TELEGRAM_BOT_TOKEN}"
    chat_id: "${TELEGRAM_CHAT_ID}"
    daily_summary_time: "00:00"  # UTC

  logging:
    level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
    file: "logs/production_trader.log"
    max_size_mb: 100
    backup_count: 10

# State Persistence
state:
  json_file: "state/trading_state.json"
  db_file: "state/trading_history.db"
  save_interval_minutes: 15

# Model Settings
models:
  directory: "../models"  # Relative to production_trader/
  feature_data_dir: "../data_15m"

# System Settings
system:
  check_interval_seconds: 30  # Main loop sleep interval
  position_update_interval_minutes: 1
  emergency_check_interval_minutes: 5
